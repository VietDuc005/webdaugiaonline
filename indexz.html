<html>
 <head>
  <title>
   Zill
  </title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <style>
   body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
        }
        .header {
            background-color: #ff3b30;
            padding: 10px 20px;
            display: flex;
            align-items: center;
        }
        .header .logo {
            color: white;
            font-size: 24px;
            font-weight: bold;
            margin-right: 20px;
        }
        .header .search-bar {
            flex-grow: 1;
            display: flex;
            align-items: center;
        }
        .header .search-bar input {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 4px;
        }
        .header .search-bar button {
            background-color: white;
            border: none;
            padding: 10px;
            border-radius: 4px;
            margin-left: 10px;
        }
        .container {
            display: flex;
            padding: 20px;
        }
        .main-content {
            flex-grow: 1;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .main-content .images {
            display: flex;
            gap: 10px;
        }
        .main-content .images img {
            width: 100%;
            border-radius: 8px;
        }
        .main-content .details {
            margin-top: 20px;
        }
        .main-content .details h1 {
            font-size: 24px;
            margin: 0;
        }
        .main-content .details .rating {
            color: #ffcc00;
            margin: 10px 0;
        }
        .main-content .details .price {
            color: #ff3b30;
            font-size: 24px;
            margin: 10px 0;
        }
        .main-content .details .quantity {
            margin: 10px 0;
        }
        .main-content .details .quantity span {
            margin-right: 10px;
        }
        .main-content .details .quantity button {
            background-color: #ff3b30;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 4px;
            margin: 0 5px;
        }
        .main-content .details .bid {
            display: flex;
            align-items: center;
            margin: 20px 0;
        }
        .main-content .details .bid input {
            width: 100px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin-right: 10px;
        }
        .main-content .details .bid button {
            background-color: #ff3b30;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
        }
        .main-content .details .bid .bid-amount {
            display: flex;
            align-items: center;
        }
        .main-content .details .bid .bid-amount button {
            background-color: #ff3b30;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 4px;
            margin: 0 5px;
        }
        .main-content .details .bid .bid-amount input {
            width: 100px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            text-align: center;
        }
        .main-content .details .bid .bid-amount span {
            font-size: 18px;
            margin: 0 10px;
        }
        .main-content .details .bid button {
            background-color: #ff3b30;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
        }
        .sidebar {
            width: 200px;
            margin-left: 20px;
        }
        .sidebar .user-list {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .sidebar .user-list .user {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .sidebar .user-list .user img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
        }
        .sidebar .user-list .user span {
            font-size: 14px;
        }
        /* Modal container */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgba(0, 0, 0, 0.4); /* Black with opacity */
  padding-top: 60px;
  text-align: center;
}

/* Modal content */
.modal-content {
  background-color: #fff;
  margin: 5% auto;
  padding: 20px;
  border: 1px solid #888;
  width: 50%;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.modal-content h2 {
  color: #ff3b30;
}

.modal-content p {
  font-size: 18px;
  color: #333;
}

.modal-content button {
  background-color: #ff3b30;
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 16px;
}

.modal-content button:hover {
  background-color: #e60000;
}
/* Cửa sổ thanh toán */
.payment-method {
    margin-top: 20px;
}

.payment-method select {
    padding: 10px;
    border-radius: 4px;
    width: 100%;
}

#payment-modal .modal-content {
    background-color: #fff;
    margin: 5% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 40%;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

#payment-modal .modal-content h2 {
    color: #ff3b30;
}

#payment-modal .modal-content button {
    background-color: #ff3b30;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
    margin-top: 20px;
}

#payment-modal .modal-content button:hover {
    background-color: #e60000;
}

#payment-modal {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgba(0, 0, 0, 0.4); /* Black with opacity */
    padding-top: 60px;
    text-align: center;
}

  </style>
 </head>
 <body>
    <div class="header">
      <div class="logo"><a href="index0.html">
        Zill
      </a></div>
      <div class="search-bar">
        <input placeholder="Nhanh tay ấm ngay giá tốt" type="text"/>
        <button>
          <i class="fas fa-search"></i>
        </button>
      </div>
    </div>
  
    <div class="container">
      <!-- Main Content Section -->
      <div class="main-content">
        <div class="images">
          <img alt="Red and white sneakers" height="300" src="https://storage.googleapis.com/a1aa/image/Z2tPMlDtLD7bMlRE01qDHHUre9XH0lBSz2HPwmdmKra4Al5JA.jpg" width="300"/>
          <img alt="Red sneakers on yellow background" height="300" src="https://storage.googleapis.com/a1aa/image/M1vLCqFda65CLhbOwYTIFD8Hyi9r9fPwkGXnjgYttH93Al5JA.jpg" width="300"/>
          <img alt="Brown sandals" height="300" src="https://storage.googleapis.com/a1aa/image/iSfPFgQNnjQue044jlpbR8xj7Of8lyRBYbQd2GWbnzGVDUmnA.jpg" width="300"/>
        </div>
        
        <div class="details">
          <h1>Sneaker Adidas Z003</h1>
          
          <div class="price">
            <span>Giá cao nhất: </span><span id="highest-bid">đ159.000</span>
          </div>
          
          <div class="quantity">
            <span>Số lượng: 20</span>
            <span id="countdown"></span>

            <button class="buy-now-button">Mua ngay</button>
          </div>
  
          <div class="quantity">
            <span>Phân loại:</span>
            <button>Vàng (Size 40)</button>
            <button>Đỏ (Size 39)</button>
            <button>Xanh Lam (Size 39)</button>
            <button>Xám (Size 38)</button>
          </div>
  
          <div class="bid">
            <span>Bước giá: đ12.000</span>
            <div class="bid-amount">
              <button>-</button>
              <input type="text" value="159000"/>
              <button>+</button>
            </div>
            <button class="bid-button">Đấu Giá</button>
          </div>
        </div>
      </div>
  
      <!-- Sidebar Section -->
      <div class="sidebar">
        <div class="user-list">
          <div class="user">
            <img alt="User 1" height="40" src="https://storage.googleapis.com/a1aa/image/XfPtcDwjbl01FCcTboOCLKGsEf0bauOARfmMCUxQlDGaDUmnA.jpg" width="40"/>
            <span>Đang tham gia 1</span>
          </div>
          <div class="user">
            <img alt="User 2" height="40" src="https://storage.googleapis.com/a1aa/image/XfPtcDwjbl01FCcTboOCLKGsEf0bauOARfmMCUxQlDGaDUmnA.jpg" width="40"/>
            <span>Đang tham gia 2</span>
          </div>
          <div class="user">
            <img alt="User 3" height="40" src="https://storage.googleapis.com/a1aa/image/XfPtcDwjbl01FCcTboOCLKGsEf0bauOARfmMCUxQlDGaDUmnA.jpg" width="40"/>
            <span>Đang tham gia 3</span>
          </div>
          <div class="user">
            <img alt="User 4" height="40" src="https://storage.googleapis.com/a1aa/image/XfPtcDwjbl01FCcTboOCLKGsEf0bauOARfmMCUxQlDGaDUmnA.jpg" width="40"/>
            <span>Đang tham gia 4</span>
          </div>
          <div class="user">
            <img alt="User 5" height="40" src="https://storage.googleapis.com/a1aa/image/XfPtcDwjbl01FCcTboOCLKGsEf0bauOARfmMCUxQlDGaDUmnA.jpg" width="40"/>
            <span>Đang tham gia 5</span>
          </div>
        </div>
      </div>
    </div>
  
    <div id="congratulations-modal" class="modal" style="display:none;">
      <div class="modal-content">
          <p id="modal-text"></p>
          <button id="close-modal">Đóng</button>
      </div>
  </div>
  
  
    <!-- Modal for Payment -->
    <div id="payment-modal" class="modal">
      <div class="modal-content">
        <h2>Thanh toán</h2>
        <p>Số tiền cần thanh toán: <span id="payment-amount"></span></p>
        <div class="payment-method">
          <label for="payment-method">Chọn phương thức thanh toán:</label>
          <select id="payment-method">
            <option value="credit-card">Thẻ tín dụng</option>
            <option value="paypal">Paypal</option>
            <option value="bank-transfer">Chuyển khoản ngân hàng</option>
          </select>
        </div>
        <button id="authorize-payment">Ủy quyền thanh toán</button>
        <button id="close-payment-modal">Đóng</button>
      </div>
    </div> 
    <div class="bid-info" >
        <table border="1">
          <thead>
            <tr>
              <th>Người tham gia</th>
              <th>Số tiền</th>
              <th>Thời gian</th>
            </tr>
          </thead>
          <tbody id="bidder-list">
             
          </tbody>
        </table>
      </div>
  <script>
  let userBidAmount = 159000; // Giá khởi điểm của bạn
let highestBid = 0; // Giá cao nhất hiện tại
let participants = []; // Danh sách người tham gia ngẫu nhiên
let currentWinner = ""; // Người chiến thắng hiện tại

// Tạo danh sách người tham gia ngẫu nhiên
function generateRandomParticipants() {
    participants = [];
    for (let i = 1; i <= 5; i++) {
        let randomBid = Math.floor(Math.random() * (400000 - 200000 + 1)) + 200000; // Giá ngẫu nhiên từ 200,000 đến 400,000
        participants.push({ name: `Người tham gia ${i}`, bid: randomBid });
    }
    highestBid = Math.max(...participants.map(p => p.bid)); // Lấy giá cao nhất từ người tham gia
}

// Cập nhật danh sách người tham gia vào bảng giao diện
function displayParticipants() {
    const tbody = document.getElementById('bidder-list');
    tbody.innerHTML = ''; // Xóa dữ liệu cũ

    participants.forEach(participant => {
        const row = document.createElement('tr');
        row.innerHTML = `<td>${participant.name}</td><td>đ${participant.bid.toLocaleString()}</td><td>${new Date().toLocaleString()}</td>`;
        tbody.appendChild(row);
    });

    updateHighestBidDisplay(); // Hiển thị giá cao nhất
}

// Hàm cập nhật giá đấu từ input
function updateBidInput(amount) {
    userBidAmount += amount;
    if (userBidAmount < 159000) {
        userBidAmount = 159000; // Không cho giá nhỏ hơn giá khởi điểm
    }
    document.querySelector('.bid-amount input').value = userBidAmount;
}

// Xử lý khi nhấn "Giảm" và "Tăng"
document.querySelectorAll('.bid-amount button')[0].addEventListener('click', () => updateBidInput(-12000));
document.querySelectorAll('.bid-amount button')[1].addEventListener('click', () => updateBidInput(12000));

// Khi nhấn nút "Đấu giá"
document.querySelector('.bid-button').addEventListener('click', function() {
    if (userBidAmount > highestBid) {
        highestBid = userBidAmount;
        currentWinner = "Bạn"; // Cập nhật bạn là người dẫn đầu
        updateHighestBidDisplay();
        showNotificationModal("Đấu giá thành công!");
        
        let order = { 
    name:"ConChien",
    orderId: " Z003",
    product: "Sneaker Adidas",
    price: highestBid,
    winner: "hhi",
    seller:"Tuan Anh",
    phone_seller: "0377330357",
    gmail_seller:"tuananh@gmail.com",
    date: new Date().toLocaleString()
};

// Lưu vào localStorage
localStorage.setItem('orderDetails', JSON.stringify(order));
        // Kiểm tra người chiến thắng sau 10 giây
        setTimeout(determineWinner, 10000);
    } else {
        showNotificationModal("Đấu giá không thành công! Hãy đặt giá cao hơn.");
        setTimeout(determineWinner, 10000);
    }
});

// Cập nhật giá cao nhất hiển thị
function updateHighestBidDisplay() {
    document.getElementById('highest-bid').innerText = `đ${highestBid.toLocaleString()}`;
}

// Hiển thị modal thông báo
function showNotificationModal(message) {
    const modal = document.getElementById('congratulations-modal');
    document.getElementById('modal-text').textContent = message;
    modal.style.display = 'block';

    document.getElementById('close-modal').onclick = () => modal.style.display = 'none';
}

// Xác định người thắng cuộc
function determineWinner() {
    // Kiểm tra mức cược cao nhất
    if (userBidAmount >= highestBid) {
        showNotificationModal("Bạn đã chiến thắng phiên đấu giá!"
           +" Tên : hhi " + " ID sản phẩm: Z003"+" Sản phẩm : Sneaker Adidas " +" Giá đấu : "+ highestBid + " ĐT : 0999999999 "
        );
    } else {
        // Tìm người tham gia có mức cược cao nhất
        const winner = participants.find(p => p.bid === highestBid);
        showNotificationModal(`Người chiến thắng là: ${winner.name} với giá đ${highestBid.toLocaleString()}`);
    }
}

// Tải người tham gia khi trang mở
window.onload = () => {
    generateRandomParticipants(); // Tạo dữ liệu ngẫu nhiên ban đầu
    displayParticipants(); // Hiển thị danh sách và cập nhật giá cao nhất
    document.querySelector('.bid-amount input').value = userBidAmount; // Đặt giá khởi điểm
};


// Khi nhấn vào "Mua ngay", hiển thị cửa sổ thanh toán
document.querySelector('.buy-now-button').addEventListener('click', function() {
    // Hiển thị cửa sổ thanh toán
    const paymentModal = document.getElementById('payment-modal');
    const paymentAmount = document.getElementById('payment-amount');

   
paymentAmount.innerText = `đ${400000}`;

    // Hiển thị modal
    paymentModal.style.display = 'block';
});

// Khi nhấn vào "Ủy quyền thanh toán"
document.getElementById('authorize-payment').addEventListener('click', function() {
    alert("Thanh toán thành công! Cảm ơn bạn đã mua sản phẩm.");
    // Đóng cửa sổ thanh toán
    document.getElementById('payment-modal').style.display = 'none';
});

// Đóng cửa sổ thanh toán khi nhấn nút "Đóng"
document.getElementById('close-payment-modal').addEventListener('click', function() {
    document.getElementById('payment-modal').style.display = 'none';
});

// Đóng cửa sổ thanh toán nếu người dùng nhấp ra ngoài modal
window.onclick = function(event) {
    const paymentModal = document.getElementById('payment-modal');
    if (event.target === paymentModal) {
        paymentModal.style.display = 'none';
    }
};


  </script>
  
  <script>
    // Thời gian kết thúc (ví dụ: 10 ngày, 20 giờ, 13 phút, 36 giây)
let endTime = new Date();
endTime.setDate(endTime.getDate() + 0);
endTime.setHours(endTime.getHours() + 2);
endTime.setMinutes(endTime.getMinutes() + 0);
endTime.setSeconds(endTime.getSeconds() + 0);

// Hàm đếm ngược
function updateCountdown() {
    const now = new Date();
    const distance = endTime - now;

    if (distance <= 0) {
        document.getElementById("countdown").innerHTML = "Phiên đấu giá đã kết thúc!";
        clearInterval(interval);
        return;
    }

    // Tính toán ngày, giờ, phút và giây
    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    // Hiển thị kết quả
    document.getElementById("countdown").innerHTML = `Thời gian kết thúc: ${days} ngày ${hours}:${minutes}:${seconds}`;
}

// Cập nhật đếm ngược mỗi giây
const interval = setInterval(updateCountdown, 1000);

// Cập nhật ngay lập tức khi tải trang
updateCountdown();

  </script>
 </body>

</html>
